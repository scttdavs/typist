!function(a,b,c){"function"==typeof define?define(c):"undefined"!=typeof module?module.exports=c():b[a]=c()}("typist",this,function(){"use strict";var a=function(a){this.message=a};a.prototype=Object.create(TypeError.prototype);var b=function(a,b){return b instanceof a||typeof b===a.name.toLowerCase()||Object.prototype.toString.call(b)==="[object "+a.name+"]"},c=function(b,c,d){if(b)return c;throw new a("TypistError: Expected variable to be of type "+d)},d=function(c,d){return function(){var e=d.apply(this,arguments);if(b(c,e))return e;throw new a("TypistError: Expected a return value to be of type "+c.name)}};d.allTypes=[String,Number,Function,Boolean,Array,Date,RegExp,Object,Error],d.check=function(){var c=Array.prototype.slice.call(arguments);return c.forEach(function(c){if(!b(c[0],c[1]))throw new a("TypistError: Expected "+c[1]+" to be of type "+c[0].name)}),!0},d.is=function(a,c){return b(a,c)},d.allTypes.forEach(function(a){var e=a.name.toLowerCase();d.is[e]||(d.is[e]=function(c){return b(a,c)}),d[e]=function(b){return c(d.is[e](b),b,a.name)}});var e={returns:function(a){return this.type=a,this},takes:function(){var a=Array.prototype.slice.call(arguments);return this.types=a,this},does:function(a){return this.definition=function(){var b=Array.prototype.slice.call(arguments);if(this.types){var c=[];b.forEach(function(a,b){c.push([this.types[b],a])}.bind(this)),d.check.apply(this,c)}return a.apply(this,arguments)}.bind(this),this},done:function(){return this.type?d(this.type,this.definition):this.definition}};return d.returns=function(){var a=Object.create(e);return a.returns.apply(a,arguments)},d.takes=function(){var a=Object.create(e);return a.takes.apply(a,arguments)},d});